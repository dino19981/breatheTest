"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8599],{91:(e,t,r)=>{r.d(t,{k:()=>i});var s=r(5923),i=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,s.gn)(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(s.S$?1/0:3e5))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}}},211:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(8274).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},605:(e,t,r)=>{r.d(t,{T:()=>s});function s(){let e,t,r=new Promise((r,s)=>{e=r,t=s});function s(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},r.reject=e=>{s({status:"rejected",reason:e}),t(e)},r}},1368:(e,t,r)=>{r.d(t,{t:()=>n});var s=r(4123),i=r(5923),n=new class extends s.Q{#t=!0;#r;#s;constructor(){super(),this.#s=e=>{if(!i.S$&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#r||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#s=e,this.#r?.(),this.#r=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#t}}},2002:(e,t,r)=>{r.d(t,{jG:()=>i});var s=e=>setTimeout(e,0),i=function(){let e=[],t=0,r=e=>{e()},i=e=>{e()},n=s,a=s=>{t?e.push(s):n(()=>{r(s)})},o=()=>{let t=e;e=[],t.length&&n(()=>{i(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{--t||o()}return r},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{i=e},setScheduler:e=>{n=e}}}()},4123:(e,t,r)=>{r.d(t,{Q:()=>s});var s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},5923:(e,t,r)=>{r.d(t,{Cp:()=>p,EN:()=>f,Eh:()=>l,F$:()=>d,GU:()=>q,MK:()=>c,S$:()=>s,ZM:()=>C,ZZ:()=>O,Zw:()=>n,d2:()=>u,f8:()=>y,gn:()=>a,hT:()=>j,j3:()=>o,lQ:()=>i,nJ:()=>h,pl:()=>w,y9:()=>S,yy:()=>g});var s="undefined"==typeof window||"Deno"in globalThis;function i(){}function n(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function o(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t){return"function"==typeof e?e(t):e}function l(e,t){return"function"==typeof e?e(t):e}function c(e,t){let{type:r="all",exact:s,fetchStatus:i,predicate:n,queryKey:a,stale:o}=e;if(a){if(s){if(t.queryHash!==d(a,t.options))return!1}else if(!p(t.queryKey,a))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!i||i===t.state.fetchStatus)&&(!n||!!n(t))}function h(e,t){let{exact:r,status:s,predicate:i,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(r){if(f(t.options.mutationKey)!==f(n))return!1}else if(!p(t.options.mutationKey,n))return!1}return(!s||t.state.status===s)&&(!i||!!i(t))}function d(e,t){return(t?.queryKeyHashFn||f)(e)}function f(e){return JSON.stringify(e,(e,t)=>m(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function p(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(r=>p(e[r],t[r]))}function y(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function b(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function m(e){if(!v(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!v(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function g(e){return new Promise(t=>{setTimeout(t,e)})}function w(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r){if(t===r)return t;let s=b(t)&&b(r);if(s||m(t)&&m(r)){let i=s?t:Object.keys(t),n=i.length,a=s?r:Object.keys(r),o=a.length,u=s?[]:{},l=0;for(let n=0;n<o;n++){let o=s?n:a[n];(!s&&i.includes(o)||s)&&void 0===t[o]&&void 0===r[o]?(u[o]=void 0,l++):(u[o]=e(t[o],r[o]),u[o]===t[o]&&void 0!==t[o]&&l++)}return n===o&&l===n?t:u}return r}(e,t):t}function S(e,t,r=0){let s=[...e,t];return r&&s.length>r?s.slice(1):s}function O(e,t,r=0){let s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var j=Symbol();function C(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==j?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function q(e,t){return"function"==typeof e?e(...t):!!e}},7377:(e,t,r)=>{r.d(t,{m:()=>n});var s=r(4123),i=r(5923),n=new class extends s.Q{#i;#r;#s;constructor(){super(),this.#s=e=>{if(!i.S$&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#r||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#s=e,this.#r?.(),this.#r=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#i!==e&&(this.#i=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#i?this.#i:globalThis.document?.visibilityState!=="hidden"}}},9163:(e,t,r)=>{r.d(t,{II:()=>h,v_:()=>u,wm:()=>c});var s=r(7377),i=r(1368),n=r(605),a=r(5923);function o(e){return Math.min(1e3*2**e,3e4)}function u(e){return(e??"online")!=="online"||i.t.isOnline()}var l=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function c(e){return e instanceof l}function h(e){let t,r=!1,c=0,h=!1,d=(0,n.T)(),f=()=>s.m.isFocused()&&("always"===e.networkMode||i.t.isOnline())&&e.canRun(),p=()=>u(e.networkMode)&&e.canRun(),y=r=>{h||(h=!0,e.onSuccess?.(r),t?.(),d.resolve(r))},b=r=>{h||(h=!0,e.onError?.(r),t?.(),d.reject(r))},m=()=>new Promise(r=>{t=e=>{(h||f())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,h||e.onContinue?.()}),v=()=>{let t;if(h)return;let s=0===c?e.initialPromise:void 0;try{t=s??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(y).catch(t=>{if(h)return;let s=e.retry??3*!a.S$,i=e.retryDelay??o,n="function"==typeof i?i(c,t):i,u=!0===s||"number"==typeof s&&c<s||"function"==typeof s&&s(c,t);if(r||!u)return void b(t);c++,e.onFail?.(c,t),(0,a.yy)(n).then(()=>f()?void 0:m()).then(()=>{r?b(t):v()})})};return{promise:d,cancel:t=>{h||(b(new l(t)),e.abort?.())},continue:()=>(t?.(),d),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:p,start:()=>(p()?v():m().then(v),d)}}},9366:(e,t,r)=>{r.d(t,{X:()=>o,k:()=>u});var s=r(5923),i=r(2002),n=r(9163),a=r(91),o=class extends a.k{#n;#a;#o;#u;#l;#c;#h;constructor(e){super(),this.#h=!1,this.#c=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#u=e.client,this.#o=this.#u.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#n=function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,s=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#n,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#l?.promise}setOptions(e){this.options={...this.#c,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#o.remove(this)}setData(e,t){let r=(0,s.pl)(this.state.data,e,this.options);return this.#d({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#d({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#l?.promise;return this.#l?.cancel(e),t?t.then(s.lQ).catch(s.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#n)}isActive(){return this.observers.some(e=>!1!==(0,s.Eh)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===s.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!(0,s.j3)(this.state.dataUpdatedAt,e)}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#l?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#l?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#l&&(this.#h?this.#l.cancel({revert:!0}):this.#l.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#l)return this.#l.continueRetry(),this.#l.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let r=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#h=!0,r.signal)})},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:()=>{let e=(0,s.ZM)(this.options,t),r={client:this.#u,queryKey:this.queryKey,meta:this.meta};return(i(r),this.#h=!1,this.options.persister)?this.options.persister(e,r,this):e(r)}};i(a),this.options.behavior?.onFetch(a,this),this.#a=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#d({type:"fetch",meta:a.fetchOptions?.meta});let o=e=>{(0,n.wm)(e)&&e.silent||this.#d({type:"error",error:e}),(0,n.wm)(e)||(this.#o.config.onError?.(e,this),this.#o.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#l=(0,n.II)({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0===e)return void o(Error(`${this.queryHash} data is undefined`));try{this.setData(e)}catch(e){o(e);return}this.#o.config.onSuccess?.(e,this),this.#o.config.onSettled?.(e,this.state.error,this),this.scheduleGc()},onError:o,onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#l.start()}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...u(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=e.error;if((0,n.wm)(r)&&r.revert&&this.#a)return{...this.#a,fetchStatus:"idle"};return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),i.jG.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#o.notify({query:this,type:"updated",action:e})})}};function u(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,n.v_)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}},9709:(e,t,r)=>{r.d(t,{Ht:()=>o,jE:()=>a});var s=r(682),i=r(7426),n=s.createContext(void 0),a=e=>{let t=s.useContext(n);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},o=e=>{let{client:t,children:r}=e;return s.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,i.jsx)(n.Provider,{value:t,children:r})}},9848:(e,t,r)=>{r.d(t,{UU:()=>q,Z3:()=>C});var s=async(e,t)=>{let r="function"==typeof t?await t(e):t;if(r)return"bearer"===e.scheme?`Bearer ${r}`:"basic"===e.scheme?`Basic ${btoa(r)}`:r},i={bodySerializer:e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t)},n=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},a=e=>{switch(e){case"form":default:return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20"}},o=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},u=({allowReserved:e,explode:t,name:r,style:s,value:i})=>{if(!t){let t=(e?i:i.map(e=>encodeURIComponent(e))).join(a(s));switch(s){case"label":return`.${t}`;case"matrix":return`;${r}=${t}`;case"simple":return t;default:return`${r}=${t}`}}let o=n(s),u=i.map(t=>"label"===s||"simple"===s?e?t:encodeURIComponent(t):l({allowReserved:e,name:r,value:t})).join(o);return"label"===s||"matrix"===s?o+u:u},l=({allowReserved:e,name:t,value:r})=>{if(null==r)return"";if("object"==typeof r)throw Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?r:encodeURIComponent(r)}`},c=({allowReserved:e,explode:t,name:r,style:s,value:i})=>{if(i instanceof Date)return`${r}=${i.toISOString()}`;if("deepObject"!==s&&!t){let t=[];Object.entries(i).forEach(([r,s])=>{t=[...t,r,e?s:encodeURIComponent(s)]});let n=t.join(",");switch(s){case"form":return`${r}=${n}`;case"label":return`.${n}`;case"matrix":return`;${r}=${n}`;default:return n}}let n=o(s),a=Object.entries(i).map(([t,i])=>l({allowReserved:e,name:"deepObject"===s?`${r}[${t}]`:t,value:i})).join(n);return"label"===s||"matrix"===s?n+a:a},h=/\{[^{}]+\}/g,d=({path:e,url:t})=>{let r=t,s=t.match(h);if(s)for(let t of s){let s=!1,i=t.substring(1,t.length-1),n="simple";i.endsWith("*")&&(s=!0,i=i.substring(0,i.length-1)),i.startsWith(".")?(i=i.substring(1),n="label"):i.startsWith(";")&&(i=i.substring(1),n="matrix");let a=e[i];if(null==a)continue;if(Array.isArray(a)){r=r.replace(t,u({explode:s,name:i,style:n,value:a}));continue}if("object"==typeof a){r=r.replace(t,c({explode:s,name:i,style:n,value:a}));continue}if("matrix"===n){r=r.replace(t,`;${l({name:i,value:a})}`);continue}let o=encodeURIComponent("label"===n?`.${a}`:a);r=r.replace(t,o)}return r},f=({allowReserved:e,array:t,object:r}={})=>s=>{let i=[];if(s&&"object"==typeof s)for(let n in s){let a=s[n];if(null!=a)if(Array.isArray(a)){let r=u({allowReserved:e,explode:!0,name:n,style:"form",value:a,...t});r&&i.push(r)}else if("object"==typeof a){let t=c({allowReserved:e,explode:!0,name:n,style:"deepObject",value:a,...r});t&&i.push(t)}else{let t=l({allowReserved:e,name:n,value:a});t&&i.push(t)}}return i.join("&")},p=e=>{if(!e)return"stream";let t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if("multipart/form-data"===t)return"formData";if(["application/","audio/","image/","video/"].some(e=>t.startsWith(e)))return"blob";if(t.startsWith("text/"))return"text"}},y=async({security:e,...t})=>{for(let r of e){let e=await s(r,t.auth);if(!e)continue;let i=r.name??"Authorization";switch(r.in){case"query":t.query||(t.query={}),t.query[i]=e;break;case"cookie":t.headers.append("Cookie",`${i}=${e}`);break;default:t.headers.set(i,e)}return}},b=e=>m({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:"function"==typeof e.querySerializer?e.querySerializer:f(e.querySerializer),url:e.url}),m=({baseUrl:e,path:t,query:r,querySerializer:s,url:i})=>{let n=(e??"")+(i.startsWith("/")?i:`/${i}`);t&&(n=d({path:t,url:n}));let a=r?s(r):"";return a.startsWith("?")&&(a=a.substring(1)),a&&(n+=`?${a}`),n},v=(e,t)=>{let r={...e,...t};return r.baseUrl?.endsWith("/")&&(r.baseUrl=r.baseUrl.substring(0,r.baseUrl.length-1)),r.headers=g(e.headers,t.headers),r},g=(...e)=>{let t=new Headers;for(let r of e)if(r&&"object"==typeof r)for(let[e,s]of r instanceof Headers?r.entries():Object.entries(r))if(null===s)t.delete(e);else if(Array.isArray(s))for(let r of s)t.append(e,r);else void 0!==s&&t.set(e,"object"==typeof s?JSON.stringify(s):s);return t},w=class{_fns;constructor(){this._fns=[]}clear(){this._fns=[]}exists(e){return -1!==this._fns.indexOf(e)}eject(e){let t=this._fns.indexOf(e);-1!==t&&(this._fns=[...this._fns.slice(0,t),...this._fns.slice(t+1)])}use(e){this._fns=[...this._fns,e]}},S=()=>({error:new w,request:new w,response:new w}),O=f({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),j={"Content-Type":"application/json"},C=(e={})=>({...i,headers:j,parseAs:"auto",querySerializer:O,...e}),q=(e={})=>{let t=v(C(),e),r=()=>({...t}),s=S(),i=async e=>{let r={...t,...e,fetch:e.fetch??t.fetch??globalThis.fetch,headers:g(t.headers,e.headers)};r.security&&await y({...r,security:r.security}),r.body&&r.bodySerializer&&(r.body=r.bodySerializer(r.body)),(void 0===r.body||""===r.body)&&r.headers.delete("Content-Type");let i=new Request(b(r),{redirect:"follow",...r});for(let e of s.request._fns)i=await e(i,r);let n=r.fetch,a=await n(i);for(let e of s.response._fns)a=await e(a,i,r);let o={request:i,response:a};if(a.ok){if(204===a.status||"0"===a.headers.get("Content-Length"))return{data:{},...o};let e=("auto"===r.parseAs?p(a.headers.get("Content-Type")):r.parseAs)??"json";if("stream"===e)return{data:a.body,...o};let t=await a[e]();return"json"===e&&(r.responseValidator&&await r.responseValidator(t),r.responseTransformer&&(t=await r.responseTransformer(t))),{data:t,...o}}let u=await a.text();try{u=JSON.parse(u)}catch{}let l=u;for(let e of s.error._fns)l=await e(u,a,i,r);if(l=l||{},r.throwOnError)throw l;return{error:l,...o}};return{buildUrl:b,connect:e=>i({...e,method:"CONNECT"}),delete:e=>i({...e,method:"DELETE"}),get:e=>i({...e,method:"GET"}),getConfig:r,head:e=>i({...e,method:"HEAD"}),interceptors:s,options:e=>i({...e,method:"OPTIONS"}),patch:e=>i({...e,method:"PATCH"}),post:e=>i({...e,method:"POST"}),put:e=>i({...e,method:"PUT"}),request:i,setConfig:e=>(t=v(t,e),r()),trace:e=>i({...e,method:"TRACE"})}}}}]);