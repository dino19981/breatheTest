(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4119],{860:(e,s,t)=>{"use strict";t.d(s,{d:()=>l});var a=t(7426);t(682);var r=t(8372),i=t(3286);function l(e){let{className:s,...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"switch",className:(0,i.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(r.zi,{"data-slot":"switch-thumb",className:(0,i.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},3286:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(2359),r=t(2980);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},3550:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>n,ZB:()=>d,Zp:()=>i,aR:()=>l});var a=t(7426);t(682);var r=t(3286);function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...t})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...t})}},5290:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var a=t(7426),r=t(682),i=t(9588),l=t(370),d=t(7164),n=t(3550),c=t(860),m=t(7250),o=t(8484),x=t(4070),h=t(9108),u=t(4437),p=t(5785),j=t(5559),g=t(2756);let f=(0,i.c)(g.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY);function N(){let[e,s]=(0,r.useState)(!1),[t,i]=(0,r.useState)(!1),[N,b]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1),[w,_]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search);"true"===e.get("success")&&(i(!0),b(e.get("session_id"))),"true"===e.get("canceled")&&(i(!1),b(null))},[]),(0,r.useEffect)(()=>{N&&!v&&(y(!0),fetch("/api/subscription-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:N})}).then(e=>e.json()).then(e=>{i(e.subscribed)}).catch(console.error))},[N,v]);let k=async()=>{let e=await fetch("/api/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lookup_key:g.env.NEXT_PUBLIC_PRICE_LOOKUP_KEY})});if(!e.ok)return void console.error("API error",await e.text());let{sessionId:s}=await e.json();if(localStorage.setItem("stripeSessionId",s),!s)return void console.error("Не получили sessionId");let t=await f,{error:a}=await t.redirectToCheckout({sessionId:s});a&&console.error("Stripe redirect error:",a)},R=async()=>{if(!N)return;let e=await fetch("/api/create-portal-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:N})});e.ok||console.error("Portal error",await e.text())},P={name:"Premium",price:e?"8.33":"9.99",period:e?"year":"month",nextBillingDate:"2024-05-15",features:["Unlimited breathing sessions","Advanced breathing patterns","Personalized recommendations","Detailed analytics & insights","Offline mode","Priority support"]};if(t)return(0,a.jsxs)("div",{className:"container mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[w&&(0,a.jsx)("div",{className:"fixed top-4 right-4 bg-yellow-100 p-4 rounded-lg shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Dev Mode"}),(0,a.jsx)(c.d,{checked:t,onCheckedChange:i,className:"data-[state=checked]:bg-primary"}),(0,a.jsx)("span",{className:"text-sm",children:t?"Subscribed":"Not Subscribed"})]})}),(0,a.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:l.Ru._({id:"QWxKVh"})}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground",children:l.Ru._({id:"GXvL3a"})})]}),(0,a.jsxs)(n.Zp,{className:"mb-8",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold",children:P.name}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1 mt-2",children:[(0,a.jsxs)("span",{className:"text-4xl font-bold",children:["$",P.price]}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["/",P.period]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Next billing date"}),(0,a.jsx)("p",{className:"font-medium",children:P.nextBillingDate})]})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:l.Ru._({id:"SPnh3N"})}),(0,a.jsx)("ul",{className:"space-y-2",children:P.features.map(e=>(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{children:e})]},e))})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)(d.$,{variant:"outline",className:"flex-1",onClick:()=>{},children:l.Ru._({id:"wRtBJP"})}),(0,a.jsx)(d.$,{variant:"outline",className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:R,children:l.Ru._({id:"L9IOec"})})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(o.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.Ru._({id:"CMGxJY"})}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:"42"})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(x.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.Ru._({id:"wUwyC0"})}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:"7 days"})]})]})})}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(h.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.Ru._({id:"X6Uuq2"})}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:"3.5h"})]})]})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:l.Ru._({id:"A1MeLT"})})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Premium Plan - Monthly"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"April 15, 2024"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium",children:"$9.99"}),(0,a.jsx)("p",{className:"text-sm text-green-600",children:"Paid"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Premium Plan - Monthly"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"March 15, 2024"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium",children:"$9.99"}),(0,a.jsx)("p",{className:"text-sm text-green-600",children:"Paid"})]})]})]})})]})]})]});let S=[{name:"Free",price:"0",period:"forever",features:["Basic breathing exercises","Daily session limit","Community access","Basic analytics"],cta:"Get Started",popular:!1},{name:"Premium",price:e?"8.33":"9.99",period:e?"year":"month",features:["Unlimited breathing sessions","Advanced breathing patterns","Personalized recommendations","Detailed analytics & insights","Offline mode","Priority support"],cta:"Upgrade Now",popular:!0},{name:"Family",price:e?"16.67":"19.99",period:"month",features:["Everything in Premium","Up to 5 family members","Family progress tracking","Shared achievements","Family challenges","Dedicated support"],cta:"Get Family Plan",popular:!1}];return(0,a.jsxs)("div",{className:"container mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[w&&(0,a.jsx)("div",{className:"fixed top-4 right-4 bg-yellow-100 p-4 rounded-lg shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Dev Mode"}),(0,a.jsx)(c.d,{checked:t,onCheckedChange:i,className:"data-[state=checked]:bg-primary"}),(0,a.jsx)("span",{className:"text-sm",children:t?"Subscribed":"Not Subscribed"})]})}),(0,a.jsxs)("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:l.Ru._({id:"YGCU7q"})}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground",children:l.Ru._({id:"5VcN5D"})})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center gap-4 mb-8",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Monthly"}),(0,a.jsx)(c.d,{checked:e,onCheckedChange:s,className:"data-[state=checked]:bg-primary"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Yearly"}),(0,a.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Save 20%"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto mb-16",children:S.map(e=>(0,a.jsxs)(n.Zp,{className:"relative ".concat(e.popular?"border-primary shadow-lg scale-105":"border-muted"),children:[e.popular&&(0,a.jsx)("div",{className:"absolute top-0 right-0 bg-primary text-white px-3 py-1 rounded-tl-lg rounded-br-lg text-sm font-medium",children:"Most Popular"}),(0,a.jsxs)(n.aR,{className:"pb-4",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold",children:e.name}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,a.jsxs)("span",{className:"text-4xl font-bold",children:["$",e.price]}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["/",e.period]})]})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("ul",{className:"space-y-3 mb-6",children:e.features.map(e=>(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},e))}),(0,a.jsx)(d.$,{className:"w-full",variant:e.popular?"default":"outline",onClick:()=>{"0"!==e.price&&k()},children:e.cta})]})]},e.name))}),(0,a.jsxs)("div",{className:"mt-16 max-w-4xl mx-auto",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center mb-8",children:l.Ru._({id:"sFNEHX"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsx)(n.Zp,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(u.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:l.Ru._({id:"55Y3zu"})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.Ru._({id:"XP+ga8"})})]})]})}),(0,a.jsx)(n.Zp,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(x.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:l.Ru._({id:"x7yvLW"})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.Ru._({id:"7vitev"})})]})]})}),(0,a.jsx)(n.Zp,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(p.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:l.Ru._({id:"SeGpru"})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.Ru._({id:"8CtASD"})})]})]})}),(0,a.jsx)(n.Zp,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(j.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:l.Ru._({id:"uorFiD"})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.Ru._({id:"C7yG3F"})})]})]})})]})]}),(0,a.jsxs)("div",{className:"mt-16 max-w-3xl mx-auto",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center mb-8",children:l.Ru._({id:"F7G/TS"})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Zp,{className:"p-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:l.Ru._({id:"+gSWyP"})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.Ru._({id:"Yk8eMz"})})]}),(0,a.jsxs)(n.Zp,{className:"p-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:l.Ru._({id:"RUHphE"})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.Ru._({id:"tg5DHS"})})]}),(0,a.jsxs)(n.Zp,{className:"p-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:l.Ru._({id:"oFOt0E"})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.Ru._({id:"mWC6BS"})})]})]})]}),(0,a.jsxs)("div",{className:"mt-16 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:l.Ru._({id:"FiIuog"})}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:l.Ru._({id:"8dyi6d"})}),(0,a.jsx)(d.$,{size:"lg",className:"text-lg px-8",children:l.Ru._({id:"uXahZq"})})]})]})}},7164:(e,s,t)=>{"use strict";t.d(s,{$:()=>n});var a=t(7426);t(682);var r=t(1397),i=t(6031),l=t(3286);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-xs",outline:"border border-border bg-transparent hover:bg-accent hover:text-accent-foreground",ghost:"bg-transparent hover:bg-accent hover:text-accent-foreground",gradient:"bg-gradient-to-b from-[#7B63B2] to-[#42306E] text-primary-foreground shadow-md hover:opacity-90",icon:"border border-border bg-background hover:bg-accent",tab:"bg-muted text-muted-foreground rounded-full px-4 py-2 hover:bg-background"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3",lg:"h-11 px-6",icon:"size-9 p-0",wide:"h-12 px-8 text-base"},state:{static:"",active:"ring-2 ring-ring ring-offset-2"}},defaultVariants:{variant:"default",size:"default",state:"static"}});function n(e){let{className:s,variant:t,size:i,state:n,asChild:c=!1,...m}=e,o=c?r.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,l.cn)(d({variant:t,size:i,state:n,className:s})),...m})}},8466:(e,s,t)=>{Promise.resolve().then(t.bind(t,5290))}},e=>{var s=s=>e(e.s=s);e.O(0,[5278,370,3659,6099,6325,7358],()=>s(8466)),_N_E=e.O()}]);