(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8898],{783:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(8274).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},877:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>n,HU:()=>d,n3:()=>r,wV:()=>l});let s=(0,t(2444).Z0)({name:"sessions",initialState:{sessions:[],isBreathSessionActive:!1},reducers:{addSession:(e,a)=>{e.sessions.push(a.payload)},resetSessions:e=>{e.sessions=[]},setSessionActive(e,a){e.isBreathSessionActive=a.payload}}}),{addSession:l,resetSessions:r,setSessionActive:d}=s.actions,n=s.reducer},1395:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var s=t(682);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,a)=>{let{color:t="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:m,...x}=e;return(0,s.createElement)("svg",{ref:a,...d,width:l,height:l,stroke:t,strokeWidth:i?24*Number(n)/Number(l):n,className:r("lucide",o),...x},[...m.map(e=>{let[a,t]=e;return(0,s.createElement)(a,t)}),...Array.isArray(c)?c:[c]])}),i=(e,a)=>{let t=(0,s.forwardRef)((t,d)=>{let{className:i,...o}=t;return(0,s.createElement)(n,{ref:d,iconNode:a,className:r("lucide-".concat(l(e)),i),...o})});return t.displayName="".concat(e),t}},2187:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(8274).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},3286:(e,a,t)=>{"use strict";t.d(a,{cn:()=>r});var s=t(2359),l=t(2980);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,l.QP)((0,s.$)(a))}},4404:(e,a,t)=>{"use strict";t.d(a,{Cf:()=>m,Es:()=>u,L3:()=>h,c7:()=>x,lG:()=>n,rr:()=>g,zM:()=>i});var s=t(7426);t(682);var l=t(5502),r=t(7675),d=t(3286);function n(e){let{...a}=e;return(0,s.jsx)(l.bL,{"data-slot":"dialog",...a})}function i(e){let{...a}=e;return(0,s.jsx)(l.l9,{"data-slot":"dialog-trigger",...a})}function o(e){let{...a}=e;return(0,s.jsx)(l.ZL,{"data-slot":"dialog-portal",...a})}function c(e){let{className:a,...t}=e;return(0,s.jsx)(l.hJ,{"data-slot":"dialog-overlay",className:(0,d.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function m(e){let{className:a,children:t,...n}=e;return(0,s.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,s.jsx)(c,{}),(0,s.jsxs)(l.UC,{"data-slot":"dialog-content",className:(0,d.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...n,children:[t,(0,s.jsxs)(l.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(r.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,d.cn)("flex flex-col gap-2 text-center sm:text-left",a),...t})}function u(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,d.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t})}function h(e){let{className:a,...t}=e;return(0,s.jsx)(l.hE,{"data-slot":"dialog-title",className:(0,d.cn)("text-lg leading-none font-semibold",a),...t})}function g(e){let{className:a,...t}=e;return(0,s.jsx)(l.VY,{"data-slot":"dialog-description",className:(0,d.cn)("text-muted-foreground text-sm",a),...t})}},4753:(e,a,t)=>{Promise.resolve().then(t.bind(t,4791))},4791:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>y});var s=t(7426),l=t(5561),r=t(682),d=t(877),n=t(370),i=t(4404),o=t(8274);let c=(0,o.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),m=(0,o.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var x=t(783);let u=(0,o.A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),h=(0,o.A)("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),g=(0,o.A)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);var p=t(2187);let b=(0,o.A)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);function f(e){let{session:a,open:t,onOpenChange:l,analytics:r}=e;return a&&r?(0,s.jsx)(i.lG,{open:t,onOpenChange:l,children:(0,s.jsxs)(i.Cf,{className:"max-w-[calc(100%-2rem)] sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)(i.c7,{children:(0,s.jsxs)(i.L3,{className:"text-2xl font-bold flex items-center gap-2",children:[(0,s.jsx)(c,{className:"w-6 h-6"}),n.Ru._({id:"y+aVQV"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,s.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-border/50 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(m,{className:"w-5 h-5 text-primary"})}),(0,s.jsx)("h3",{className:"font-semibold text-lg",children:n.Ru._({id:"92xwm6"})})]}),(0,s.jsxs)("p",{className:"text-3xl font-bold mb-2",children:[r.breathingRate," ",(0,s.jsx)("span",{className:"text-lg text-muted-foreground",children:n.Ru._({id:"jeopAv"})})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:r.feedback.rateFeedback})]}),(0,s.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-border/50 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(x.A,{className:"w-5 h-5 text-primary"})}),(0,s.jsx)("h3",{className:"font-semibold text-lg",children:n.Ru._({id:"NtU3Kz"})})]}),(0,s.jsxs)("div",{className:"flex items-baseline gap-2 mb-3",children:[(0,s.jsx)("p",{className:"text-4xl font-bold",children:r.breathScore}),(0,s.jsx)("span",{className:"text-lg text-muted-foreground",children:"%"})]}),(0,s.jsx)("div",{className:"w-full bg-muted rounded-full h-2 mb-3",children:(0,s.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-500",style:{width:"".concat(r.breathScore,"%")}})}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:r.breathScore>=80?n.Ru._({id:"cajXYI"}):r.breathScore>=60?n.Ru._({id:"VOvkvX"}):n.Ru._({id:"X9i6j4"})})]}),(0,s.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-border/50 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(u,{className:"w-5 h-5 text-primary"})}),(0,s.jsx)("h3",{className:"font-semibold text-lg",children:n.Ru._({id:"s/0xjg"})})]}),(0,s.jsxs)("p",{className:"text-xl font-medium mb-4",children:[r.patternAnalysis.suggestedPattern," ",n.Ru._({id:"9s6kna"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsx)(v,{label:n.Ru._({id:"2k5wZC"}),value:r.avgRatio.inhale}),(0,s.jsx)(v,{label:n.Ru._({id:"URlABS"}),value:r.avgRatio.inhaleHold}),(0,s.jsx)(v,{label:n.Ru._({id:"lqLmPT"}),value:r.avgRatio.exhale}),(0,s.jsx)(v,{label:n.Ru._({id:"8QKbVX"}),value:r.avgRatio.exhaleHold})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:r.feedback.ratioFeedback})]}),(0,s.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-border/50 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(h,{className:"w-5 h-5 text-primary"})}),(0,s.jsx)("h3",{className:"font-semibold text-lg",children:n.Ru._({id:"K8siUB"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsx)(j,{label:n.Ru._({id:"JCuTaQ"}),value:r.totalBreaths}),(0,s.jsx)(j,{label:n.Ru._({id:"lkz6PL"}),value:"".concat(r.sessionDuration,"m")}),(0,s.jsx)(j,{label:n.Ru._({id:"LrT3sE"}),value:r.bestMinute+1}),(0,s.jsx)(j,{label:n.Ru._({id:"dTxtPl"}),value:"".concat(r.regularityScore,"%")})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:r.feedback.consistencyFeedback})]}),(0,s.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-border/50 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(g,{className:"w-5 h-5 text-primary"})}),(0,s.jsx)("h3",{className:"font-semibold text-lg",children:n.Ru._({id:"O9AxPV"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(j,{label:n.Ru._({id:"Lek+XJ"}),value:"".concat(r.modelMetrics.avgConfidence,"%")}),(0,s.jsx)(j,{label:n.Ru._({id:"sKSlnN"}),value:"".concat(r.modelMetrics.avgInferenceTime,"ms")}),(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3 col-span-2",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:n.Ru._({id:"5tEAk/"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("p",{className:"text-lg font-semibold",children:[Math.round(r.modelMetrics.correctPredictions/r.modelMetrics.totalPredictions*100),"%"]}),(0,s.jsx)(p.A,{className:"w-4 h-4 text-green-500"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-border/50 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(b,{className:"w-5 h-5 text-primary"})}),(0,s.jsx)("h3",{className:"font-semibold text-lg",children:n.Ru._({id:"VGT/9o"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(j,{label:n.Ru._({id:"tpuqCA"}),value:"".concat(Math.round(r.avgRatio.totalDuration/1e3),"s")}),(0,s.jsx)(j,{label:n.Ru._({id:"SU+sZ5"}),value:Math.round(60/(r.avgRatio.totalDuration/1e3))}),(0,s.jsx)(j,{label:n.Ru._({id:"DL9vA5"}),value:"".concat(Math.round((r.avgRatio.inhaleHold+r.avgRatio.exhaleHold)/r.avgRatio.totalDuration*100),"%")}),(0,s.jsx)(j,{label:n.Ru._({id:"ZJ0WvK"}),value:"".concat(Math.round((r.avgRatio.inhale+r.avgRatio.exhale)/r.avgRatio.totalDuration*100),"%")})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-4",children:r.avgRatio.totalDuration>=1e4&&r.avgRatio.totalDuration<=14e3?n.Ru._({id:"m+xxW0"}):n.Ru._({id:"Pbx4W8"})})]})]})]})}):null}function v(e){let{label:a,value:t}=e;return(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:a}),(0,s.jsxs)("p",{className:"text-lg font-semibold",children:[Math.round(t/1e3),"s"]})]})}function j(e){let{label:a,value:t}=e;return(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:a}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:t})]})}function y(){let e=(0,l.d4)(e=>e.sessions.sessions),[a,t]=(0,r.useState)(null),[i,o]=(0,r.useState)(!1),c=(0,l.wA)(),m=e.find(e=>e.id===a),x=m?function(e){var a,t,s,l,r,d;let n=e.events.filter(e=>"prediction"===e.type);if(n.length<2)throw Error("Not enough events for analysis");let i=null!=(s=null==(a=n[0])?void 0:a.timestamp)?s:0,o=Math.max(Math.round(((null!=(l=null==(t=n[n.length-1])?void 0:t.timestamp)?l:0)-i)/6e4),1),c=n.length,m=n.filter(e=>e.isCorrect).length,x=n.reduce((e,a)=>e+a.confidence,0)/c,u=n.reduce((e,a)=>e+a.inferenceTime,0)/c,h={Inhale:0,Exhale:0,InhaleHold:0,ExhaleHold:0},g=null;for(let e=1;e<n.length;e++){let a=n[e-1],t=n[e],s=(null!=(r=null==t?void 0:t.timestamp)?r:0)-(null!=(d=null==a?void 0:a.timestamp)?d:0);if(s<=0||s>3e4)continue;let l=null==a?void 0:a.predictionLabel;"Inhale"===l?(h.Inhale+=s,g="Inhale"):"Exhale"===l?(h.Exhale+=s,g="Exhale"):"Noise"===l&&("Inhale"===g?h.InhaleHold+=s:"Exhale"===g&&(h.ExhaleHold+=s))}let p={inhale:h.Inhale,exhale:h.Exhale,inhaleHold:h.InhaleHold,exhaleHold:h.ExhaleHold,totalDuration:h.Inhale+h.Exhale+h.InhaleHold+h.ExhaleHold},b=n.filter(e=>"Inhale"===e.predictionLabel||"Exhale"===e.predictionLabel).length,f=n.filter(e=>"Inhale"===e.predictionLabel||"Exhale"===e.predictionLabel).map(e=>e.timestamp),v={};for(let e of f){let a=Math.floor((e-i)/6e4);v[a]=(v[a]||0)+1}let j=Object.entries(v).reduce((e,a)=>{let[t,s]=a;return s>e.count?{minute:Number(t),count:s}:e},{minute:0,count:0}).minute,y=Object.values(v),N=y.reduce((e,a)=>e+a,0)/(y.length||1),k=Math.max(0,Math.min(100,Math.round(100-10*(Math.sqrt(y.reduce((e,a)=>e+Math.pow(a-N,2),0)/(y.length||1))||0))));return{breathingRate:Math.round(b/o||0),avgRatio:p,regularityScore:k,consistencyScore:90,totalBreaths:b,sessionDuration:o,breathScore:Math.round(m/c*100),bestMinute:j,patternAnalysis:{isCoherent:!0,isBoxBreathing:!0,is478:!1,suggestedPattern:"Box"},feedback:{rateFeedback:"Looks good",ratioFeedback:"Pattern looks stable",consistencyFeedback:"Good regularity",holdFeedback:"Hold timing reasonable"},modelMetrics:{avgConfidence:Math.round(100*x),avgInferenceTime:Math.round(1e3*u),totalPredictions:c,correctPredictions:m}}}(m):null;return(0,s.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:n.Ru._({id:"UrSrwn"})}),(0,s.jsx)("button",{onClick:()=>c((0,d.n3)()),className:"text-sm bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition",children:n.Ru._({id:"MzJlgs"})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:e.map(e=>(0,s.jsxs)("button",{onClick:()=>{t(e.id),o(!0)},className:"border rounded-xl p-4 text-left shadow hover:bg-gray-50 transition",children:[(0,s.jsxs)("p",{className:"text-lg font-semibold",children:[n.Ru._({id:"CqO9qC"})," ",new Date(e.createdAt).toLocaleString()]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.events.length," ",n.Ru._({id:"ufcUbL"})]})]},e.id))}),(0,s.jsx)(f,{session:m||null,analytics:x,open:i,onOpenChange:o})]})}},7675:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(1395).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[5278,370,1453,3814,3147,6099,6325,7358],()=>a(4753)),_N_E=e.O()}]);